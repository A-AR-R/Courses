<html>
<head>
<meta name="author" content="$Author: reid $"/>
<meta name="date" content="$Date: 2005/01/04 21:58:59 $"/>
<meta name="revision" content="$Revision: 1.1 $"/>
<link rel="stylesheet" type="text/css" href="../scjava.css"/>
<title>Software Design: Setting Up at Home</title>
</head>
<body>

<h1>
<a href="../index.html">Software Design</a>
<br/>
Setting Up at Home
</h1>

<h2>Setting Up Cygwin and CVS</h2>

<p><em>Note: this information was written by Chen Jia for the Summer
2003 edition of CSC207.  It assumes you are using Windows 2000/XP
at home, and the CDF machines at St. George campus at the university.
Please send questions, corrections, or suggestions for additions to
your instructor.</em></p>

<p><b>1: Install Cygwin.</b> You can find details at
<a href="http://www.cdf.utoronto.ca/workathome/article.php3?id=76">http://www.cdf.utoronto.ca/workathome/article.php3?id=76</a>.
Make sure you install all the packages mentioned in the article.</p>

<p><b>2: Check that you have CVS</b>
Start up Cygwin and type <code>cvs</code>
If you see Usage information about CVS then you have installed it already
on your machine. The should have been part of your Cygwin installation.
In this case skip to step 4. 
If you get an error saying <code>Command not found</code> try step 3.

<p><b>3a: Download CVS.</b>  You can get it from
<a href="http://ccvs.cvshome.org/servlets/ProjectDownloadList?action=download&dlID=229">here</a>.</p>

<p><b>3b: Install CVS.</b> You will get a zip file from the address
above. It should contain an EXE file called
<code>cvs-1.11.4.exe</code>. Extract it. If you installed Cygwin in
<code>C:\Cygwin</code>, copy that EXE file to
<code>C:\Cygwin\bin\cvs.exe</code>.  If you installed Cygwin somewhere
else, copy the EXE file appropriately.</p>

<p><b>4: Set environment variables.</b> Right click on "My
Computer---Properties". Under the "Advanced" tab, click the
"Environment Variables" button. Under "System Variables", click "New"
and set two variables (replacing <code><em>userid</em></code> with
your CDF user ID):</p>

<table cellpadding="3" border="1">
<tr>
	<td><code>CVSROOT</code></td>
	<td><code>:ext:<em>userid</em>@cdf.utoronto.ca:/u/csc209h/summer/pub/repo/<em>userid</em></code></td>
</tr>
<tr>
	<td><code>CVS_RSH</code></td>
	<td><code>ssh</code></td>
</tr>
</table>

<p><b>5: Check your environment variables.</b> Start a Cygwin shell,
then check your environment variables by typing "echo $CVSROOT" and
"echo $CVS_RSH".  Make sure they have the values you expect.</p>

<p><b>6: Start using CVS.</b> You should now be able to do the
following:</p>

<dl>

<dt>Get a clean copy of the files in your repository.
<dd>
	<ol>
	<li>"cd" to your local folder where you want to store all your CSC209 files.</li>
	<li>type "cvs checkout assignments"</li>
	<li>When SSH asks for your password, type it.</li>
	<li>All the files in your repository will be copied to a local
	folder with the name assignments.</li>
	</ol>
</dd>

<dt>Upload local changes to files to the master copies in the repository.</dt>
<dd>
	<ol>
	<li>Edit Java files on your home machine and debug as you
	would in the lab. When you want to update some files to
	CVS, type "cvs update".  This will tell what files you have
	changed by showing you the file's name with an "M" beside
	it.</li>
	<li>If you want to commit these changes to your repository,
	type "cvs commit".  An editor will appear, so that you can
	enter comments about your changes.  When you exit the editor,
	CVS will commit your changes.  You can speed this up by using
	the "-m" flag to "cvs commit"; see the manual for details.</li>
	</ol>
</dd>

<dt>Work with files on the lab machines.</dt>
<dd>
	<ol>
	<li>Log in to CDF, and go to the directory where you have
	checked out your files.</li>
	<li>Type "cvs update".  This will refresh the files in your
	local directory from the repository.</li>
	<li>Before you log out, do another update, and then commit any
	changes you have made, so that you can resume your work at
	home.</li>
	<li>If you change files on the lab machines before doing a
	"cvs update", and you have checked in changes to those files
	from home, then when you do "cvs update", you will see the
	names of the files that you changed in both places with a "C"
	beside them.  You must edit these files and look for sections
	marked with "&gt;&gt;&gt;&gt;" and "&lt;&lt;&lt;&lt;".  These
	are the places where there are conflicts between the two sets
	of changes.  Edit the file to remove these markers, then do
	another update, and then commit.  You cannot commit while
	there are still conflict markers in your files.</li>
	</ol>
</dd>

<dt>Work on the lab machines from home using SSH.</dt>
<dd>
You can connect to CDF lab at home by typing "ssh userid@cdf.utoronto.ca".
Once you are logged on and do a "ls", you
will find out you are in your CDF directory, therefore, you can run your
shell programs or gcc and your C program 
here, and the result will be exact same as you get in the lab. Before
you "ssh", make sure you update and commit all your changes in your
local computer.
</dd>

</dl>

<hr/>

<p>$Id: setup-at-home.html,v 1.1 2005/01/04 21:58:59 reid Exp $</p>

</body>
</html>
